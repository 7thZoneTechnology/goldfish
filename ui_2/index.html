<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<link rel="shortcut icon" type="image/ico" href="ucrso-logo.ico"/>
	<title>
		{{tab}}
	</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<link rel="stylesheet" href="lib/font-awesome/css/font-awesome.css">
	<link rel="stylesheet" href="lib/bootstrap-datepicker-1.6.4-dist/css/bootstrap-datepicker3.min.css">
	<link rel="stylesheet" href="lib/toastr-master/build/toastr.min.css">
	<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/styles.css">
</head>
<body>
	<div id="app">
		<div class="modal fade" tabindex="-1" role="dialog" id="modal">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span>&times;</span></button>
						<h4 class="modal-title">{{modal.title}}</h4>
						
					</div>
					<div class="modal-body">
						<p>
							{{modal.message}}
						</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
						<button type="button" class="btn btn-primary" id="modal-action">{{modal.action}}</button>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
		<nav class="navbar navbar-default">
			<div class="container-fluid">
				<!-- Brand and toggle get grouped for better mobile display -->
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#/prestamos">Biblioteca</a>
				</div>

				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li  v-if="user.name">
							<router-link to="/prestamos">
								<i class="fa fa-bookmark" aria-hidden="true"></i> Préstamos <span class="sr-only">(current)</span>
							</router-link>
						</li>
						<li  v-if="user.name"><a href="#/personas/1"><i class="fa fa-users" aria-hidden="true"></i> Personas</a></li>
						<li class="dropdown"  v-if="user.name && user.role_id == 1">
							<li v-if="user.name">
								<router-link to="/gestion/1">
									<i class="fa fa-archive" aria-hidden="true"></i> Gestión <span class="sr-only">(current)</span>
								</router-link>
							</li>
							<li v-if="user.name">
								<router-link to="/estadisticas">
									<i class="fa fa-pie-chart" aria-hidden="true"></i> Estadísticas <span class="sr-only">(current)</span>
								</router-link>
							</li>
							
						</li>
						
					</ul>
					
					<ul class="nav navbar-nav navbar-right" >
						<li >
							<a class = "fa fa-question" style="color: white;" href="#/" v-on:click="showHelp()" class="btn btn-primary"></a>
 						</li>
						<li class="dropdown" v-if="user.name">
							<a  href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
								{{user.name}} <span class="caret" ></span></a>
							<ul class="dropdown-menu">
								<li>
									<router-link :to="{ name: 'usuario', params: { id: user.id }}" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
										<i class="fa fa-user"></i> Perfil
									</router-link>
								</li>
								<li>
									<a href="#">
										<i class="fa fa-lock"></i>
										Cambiar contraseña
									</a>
								</li>
								<li role="separator" class="divider"></li>
								<li><a href="#/" v-on:click="logout()"><i class="fa fa-sign-out"></i>Salir</a></li>
							</ul>
						</li>
						<li v-if="user.name">
							<a class = "fa fa-cog fa-2x" style="color: white;" href="#/generalConfig" class="btn btn-primary"></a>
						</li>
						
					</ul>
				</div><!-- /.navbar-collapse -->
			</div><!-- /.container-fluid -->
		</nav>
	
	<router-view></router-view>
	</div>
	<div style="display:none" id="loginTemplate">
		<div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4">
			<div class="well row">
				<h3 class="text-center">
					<i class="fa fa-user-circle-o fa-5x"></i>
					<br/>
					<br/>
					Inicio de sesión
				</h3>
				<div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon" id="email">
						<i class="fa fa-user"></i>
					  </span>
					  <input type="text" class="form-control" placeholder="Correo" aria-describedby="email" v-model="email" v-on:keyup.enter="$('#passW').focus();" autofocus>
					</div>
				</div>
				<div class="form-group">
					<div class="input-group">
					  <span class="input-group-addon" id="pass">
					  	<i class="fa fa-lock"></i>
					  </span>
					  <input type="password" class="form-control" placeholder="Contraseña" aria-describedby="pass" v-on:keyup.enter="login" v-model="password" id="passW">
					</div>
				</div>
				<div class="form-group">
					<button :disabled="loading" class="btn btn-primary pull-right" v-on:click="login()">
						Entrar
					</button>
				</div>
			</div>
		</div>
	</div>
	<div style="display:none" id="loanTemplate">
		<div id="loan" :listing-id="init">
			<div class="col-xs-12 col-sm-4">
				<div class="well container-fluid">
					<h4>
						Usuario 
					</h4>
					<div>
						<div class="input-group" v-bind:class="'has-'+[searchUser.state]">
							<span class="input-group-addon" id="user">
								<i class="fa fa-user"></i>
							</span>
							<input autofocus type="text" v-model.trim="user.identification" v-on:keyup="user.identification = user.identification.toUpperCase()" id="identification" class="form-control" placeholder="Carné/Cédula" aria-describedby="user"  v-on:keyup="(searchUser.state != 'default')?searchUser.state = 'default':''" v-on:keyup.enter="getUserData" :disabled="searchUser.disabled">
							<span class="input-group-addon" v-if="searchUser.state == 'default'">
								<i class="fa fa-search"></i>
							</span>
							<span class="input-group-addon" v-if="searchUser.state == 'success'">
								<i class="fa fa-check"></i>
							</span>
							<span class="input-group-addon" v-if="searchUser.state == 'warning'">
								<i class="fa fa-circle-o-notch fa-spin" ></i>
							</span>
							<span class="input-group-addon" v-if="searchUser.state == 'error'">
								<i class="fa fa-times text-danger" ></i>
							</span>
						</div>
					</div>
					<div class="row"> 
						<div class="col-xs-12">
							<div class="btn-group pull-right" style="margin-top: 10px;margin-bottom: 10px;">
								<button class="btn btn-default" v-on:click="clearUser()" :disabled="searchUser.disabled">
									Limpiar
								</button>
								<button class="btn btn-primary" v-on:click="getUserData()" :disabled="searchUser.disabled">
									Buscar
								</button>
							</div>
						</div>
					</div>
					<div v-if="user.id == null" style="font-size: 25px;border: 1px solid #999;border-radius: 6px;" class="text-muted text-center"><i style="font-size: 4em;" class="fa fa-user text-muted"></i> <br>
						Sin usuario seleccionado
					</div>
					<ul v-if="user.id != null" class="list-group">
						<li class="list-group-item">
							<b class="text-primary">Nombre:</b>
							<router-link :to="{ name: 'usuario', params: { id: user.id }}">
								{{user.name}} {{user.last_name}} <i class="fa fa-external-link"></i>
							</router-link>
						</li>
						<li class="list-group-item" v-if="user.student != null">
							<b class="text-primary">Carné:</b> {{user.student.license}}
						</li>
						<li class="list-group-item">
							<b class="text-primary">Cedula:</b> {{user.identity_card}}
						</li>
						<li class="list-group-item bg-danger" style="color: #fff; font-size: 14pt; background:#ff0000" v-if="user.penality != '0000-00-00'">
							<b>
								Multa de tiempo hasta:
							</b>  
							<br>
							El {{moment(user.penality).format('dddd DD [de] MMMM [del] YYYY')}}
						</li>
					</ul>
				</div>
			</div>
				
			<div class="col-xs-12 col-sm-8">
				<div class="well container-fluid">
	
					<h4>Préstamo</h4>
					<div class="row">
						<div class="col-xs-12 col-sm-3">
							<label for="loan_type">Tipo de prestamo</label>
							<select class="form-control" id="loan_type" v-model="auto" v-bind:disabled="user.id == null">
								<option value="true">Automático</option>
								<option value="false">Manual</option>
							</select>
						</div>
						<div class="col-xs-12 col-sm-3">
							<label for="">
								Fecha de devolución
							</label>
							<input type="text" class="form-control" placeholder="Fecha de devolución" aria-describedby="date" id="datePicker" :disabled="auto=='true'" v-model="return_time">
							
						</div>
						<div class="col-xs-12 col-sm-3">
							<label for="return_hour">
								Hora de devolución
							</label>
							<select v-model="return_hour" id="return_hour" class="form-control" placeholder="Hora de devolución" aria-describedby="time" :disabled="auto=='true'">
								<template v-for="n in hours()">
									<option v-bind:value="n.militar">
										{{n.civil}}
									</option>
								</template>
							</select>
						</div>
						<div class="col-xs-12 col-sm-3">
							<label for="barcode">
								Código de barras
							</label>
							<input type="text" class="form-control" id="barcode" placeholder="Código de barras" aria-describedby="barcode" v-model.trim="barcode" barcode = barcode.toUpperCase() v-on:keyup.enter="createLoan" :disabled="loan.disabled">
						</div>
					</div>	
					<div class="row">
						<div class="col-xs-12">
							<button v-on:click="createLoan" style="margin-top: 10px;" class="btn btn-primary pull-right" :disabled="loan.disabled">
								Préstamo/Devolución
							</button>
						</div>
					</div>
				</div>
				<div class="panel panel-primary">
					<div class="panel-heading">
						Préstamos actuales
					</div>
					<div class="panel-body">
						<div v-if="currentLoans.length != 0">
							<div class="input-group col-xs-12 col-md-5">
								<span class="input-group-addon" >Ver tiempo</span>
								<select v-model="textTime" class="form-control">
									<option v-bind:value="true">
										Como texto
									</option>
									<option v-bind:value="false">
										En formato estandar
									</option>
								</select>
							</div>
							<table class="table table-hover">
								<thead>
									<tr>
										<th>Código</th>
										<th>Elemento</th>
										<th>Prestado</th>
										<th>Devolver</th>
										<th class="text-center">A tiempo</th>
										<th></th>
									</tr>
								</thead>
								<tbody> 
									<template v-for="loan in currentLoans">
										<tr >
											<td>
												<router-link :to="{name:'activo', params:{id:loan.loanable.id}}">
													{{loan.loanable.barcode}}
												</router-link>
											</td>
											<td v-if="loan.loanable.specification_type == 'App\\AudiovisualEquipment'" style="max-width:300px">
												<router-link :to="{name:'activo', params:{id:loan.loanable.id}}">
													<i class="fa fa-laptop"></i>
													<b>{{loan.loanable.specific.type.name}}</b> - {{loan.loanable.specific.brand.name}} - {{loan.loanable.specific.model.name}}
												</router-link>
											</td>
											<td v-if="loan.loanable.specification_type == 'App\\BibliographicMaterial'" style="max-width:300px">
												<router-link :to="{name:'activo', params:{id:loan.loanable.id}}">	
													<div v-if="loan.loanable.specific.material_type == 'App\\ThreeDimensionalObject'">
														<i class="fa fa-certificate"></i>
														<b>{{loan.loanable.specific.title}}</b> - {{loan.loanable.specific.material.physical_description}} - <i>{{loan.loanable.specific.editorial.name}}</i>
													</div>
													<div v-if="loan.loanable.specific.material_type == 'App\\Book'">
														<i class="fa fa-book"></i>
														<b>{{loan.loanable.specific.title}}</b> - <i>{{loan.loanable.specific.editorial.name}}</i>
													</div>
													<div v-if="loan.loanable.specific.material_type == 'App\\CartographicMaterial'">
														<i class="fa fa-map-o"></i>
														<b>{{loan.loanable.specific.title}}</b> - <i>{{loan.loanable.specific.editorial.name}}</i> - {{loan.loanable.specific.material.dimension}}
													</div>
													<div v-if="loan.loanable.specific.material_type == 'App\\AudiovisualMaterial'">
														<i class="fa fa-file-video-o"></i>
														<b>{{loan.loanable.specific.title}}</b> - <i>{{loan.loanable.specific.editorial.name}}</i>
													</div>
												</router-link>	
											</td>
											<td v-if="loan.loanable.specification_type == 'App\\CopyPeriodicPublication'" style="max-width:300px">
												<router-link :to="{name:'activo', params:{id:loan.loanable.id}}">
													<i class="fa fa-newspaper-o"></i>
													<b>{{loan.loanable.specific.periodic_publication.title}}</b> no.{{loan.loanable.specific.number}} vol.{{loan.loanable.specific.volume}}
												</router-link>
											</td>
											<td v-if="textTime">
												{{ moment(loan.departure_time).calendar()}}
											</td>
											<td v-else>
												{{ moment(loan.departure_time).format('D/MM/YYYY h:mm a')}}
											</td>
											<td v-if="textTime">
												{{ moment(loan.return_time).calendar()}}
											</td>
											<td v-else>
												{{ moment(loan.return_time).format('D/MM/YYYY h:mm a')}}
											</td>
											<td v-if="date > loan.return_time" class="text-center text-danger">
												No <i class="fa fa-times-circle-o" style="font-size: 1.3em;"></i>
											</td>
											<td v-else class="text-center text-success">
												Sí <i class="fa fa-check-circle-o" style="font-size: 1.3em;"></i>
											</td>
											<td>
												<button class="btn btn-primary btn-xs" v-on:click="returns(loan.loanable.barcode)">
													Devolver
												</button>
											</td>
										</tr>
									</template>
								</tbody> 
							</table>
						</div>
						<div v-if="currentLoans.length == 0" style="font-size: 25px;border: 1px solid #999;border-radius: 6px;" class="text-muted text-center">
							<i class="fa fa-tag" style="font-size: 4em"></i>
							<br>
							No se registran préstamos
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<div style="display:none" id="audiovisualEquipmentManagementTemplate">
		<div class="col-xs-12 col-sm-10 col-sm-offset-1" :listing-id="audiovisual_equipment_managment"> 
			<div class="well">
				<h3>
					Equipo audiovisual
				</h3>
			<!--
				<div class="input-group pull-right">
					  <input type="text" class="form-control" placeholder="Busqueda"/>
					  <span class="input-group-addon" id="email">
						<i class="fa fa-search"></i>
					  </span>
				</div>
					<br><br>
					<button class= "btn btn-primary pull-right">Buscar</button><br>
			-->
				<span class="text-muted" >
					Página {{$route.params.page}} de {{page.last_page}}
				</span>
				
				<nav aria-label="Page navigation">
				  <ul class="pagination">
				    <li>
				      	<router-link  :to="{ name: 'equipo-audiovisual', params: { page: 1 }}" aria-label="Previous">
				        	<span>&laquo;</span>
						</router-link>
				    </li>
				    <template v-for="index in page.last_page">
					    <li >
					    	<router-link  :to="{ name: 'equipo-audiovisual', params: { page: index }}">
								{{index}}
							</router-link>
					    </li>
				    </template>
				    <li>
				    	<router-link  :to="{ name: 'equipo-audiovisual', params: { page: page.last_page }}"  aria-label="Next">
							<span>&raquo;</span>
						</router-link>
				    </li>
				  </ul>
				</nav>
				
				<table class="table table-striped">
					<thead>
						<tr>
							<th>
								Código de barras
							</th>
							<th>
								Nombre
							</th>
							<th>
								Modelo
							</th>
							<th>
								Marca
							</th>
							<th>
								Estado
							</th>
						</tr>
					</thead>
				<tbody>
					<template v-for="equipment in page.data" >
						<tr v-bind:class="{'success':equipment.loanable.state.id==1}">
							<td>
								<router-link  :to="{ name: 'equipo-audiovisual-panel', params: { id: equipment.loanable.id }}">
									{{equipment.loanable.barcode}}
								</router-link>
							</td>
								<td>
									<router-link  :to="{ name: 'equipo-audiovisual-panel', params: { id: equipment.loanable.id }}">
										{{equipment.type.name}}
									</router-link>
								</td>
								<td>
									{{equipment.model.name}}
								</td>
								<td>
									{{equipment.brand.name}}
								</td>
								<td v-bind:class="{'text-success':equipment.loanable.state.id==1}">
									{{equipment.loanable.state.description}}
								</td>
							</tr>
						</template>
						
					</tbody>
				</table>
				
				<span class="text-muted">
					Resultados desde {{page.from}} hasta {{page.to}}
				</span>
				<nav aria-label="Page navigation">
				  <ul class="pagination">
				    <li>
				      	<router-link  :to="{ name: 'equipo-audiovisual', params: { page: 1 }}" aria-label="Previous">
				        	<span>&laquo;</span>
						</router-link>
				    </li>
				    <template v-for="index in page.last_page">
					    <li >
					    	<router-link  :to="{ name: 'equipo-audiovisual', params: { page: index }}">
								{{index}}
							</router-link>
					    </li>
				    </template>
				    <li>
				    	<router-link  :to="{ name: 'equipo-audiovisual', params: { page: page.last_page }}"  aria-label="Next">
							<span>&raquo;</span>
						</router-link>
				    </li>
				  </ul>
				</nav>
			</div>
		</div><!--ERROR PAGE -->
	</div>
	<div style="display:none" id="audiovisualEquipmentPanelTemplate">
		<div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"  :listing-id="audiovisual_equipment_panel">
		<div class="well row">
			<h3>
				Panel de equipo
			</h3>
			<div class="col-xs-12 col-md-6">
			<label>Código de barras </label>
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						<i class="fa fa-barcode"></i>
					</span>
					<input autofocus="autofocus" type="text" placeholder="Código de barras" aria-describedby="user" class="form-control" v-model="audiovisual_data.loanable.barcode">
				</div>
			</div>
			<div class="col-xs-12 col-md-6">
				<label>Nombre</label>
				<div class="input-group has-default">
					<select name="" id="" class="form-control" v-model="audiovisual_data.type">
						<option value="" disabled selected="selected">Nombre</option>
						<template v-for="type in types">
							<option v-bind:value="type">{{type.name}}</option>
						</template>
						
					</select>
					<span id="user" class="input-group-addon">
						Nuevo <input type="checkbox" />
					</span>
				</div>
			</div>	
			<br /> <br /> <br />
			<div class="col-xs-12 col-md-6">
			<label>Marca</label>
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						Nuevo <input type="checkbox" />
					</span>
					<select name="" id="" class="form-control"  v-model="audiovisual_data.brand">
						<option value="" disabled selected="selected">Marca</option>
						<option v-for="brand in brands" v-bind:value="brand">{{brand.name}}</option>
					</select>
				</div>
			</div>
			<div class="col-xs-12 col-md-6">
			<label>Modelo</label>
				<div class="input-group has-default">
					<select name="" id="" class="form-control" v-model="audiovisual_data.model">
						<option value="" disabled selected="selected">Modelo</option>
						<option v-for="model in models" v-bind:value="model">{{model.name}}</option>
					</select>
					<span id="user" class="input-group-addon">
						Nuevo <input type="checkbox" />
					</span>
				</div>
			</div>	
			<br /> <br /> <br />	
			<div class="col-xs-12 col-md-6">
			<label>Estado</label>
				<select name="" v-model="audiovisual_data.loanable.state" class="form-control">
					<option value="" disabled selected="selected">Estado</option>
					<option v-for="state in states" v-bind:value="state">{{state.description}}</option>
				</select>
			</div>	
			<br /> <br /> <br />	
			<div class="col-xs-12">
			<label>Notas</label>
				<textarea name="" id="" cols="30" rows="10" class="form-control" placeholder="Notas" style="resize:vertical" v-model="audiovisual_data.loanable.note"></textarea>
			</div>
			<br /> <br /> <br />	
			<div class="col-xs-12">
				
				<button style="margin-top: 10px;" class="btn btn-primary pull-right">
					<i class="fa fa-floppy-o"></i> Guardar
				</button>
				
			</div>
			
		</div>
	</div>
	</div>
	<div style="display:none" id="statisticsTemplate"  :listing-id="statistics_panel">
		<div class="col-xs-12 col-sm-6">
			<div class="well container-fluid">
			<h4>Criterios de consulta para estadísticas</h4>
			</br>
				<div class="row">
					<div class="col-xs-12 col-sm-4">
						<label for="select_av">Tipo de audiovisual:</label>
							<select name="" id="select_av" class="form-control" v-model="statistics_data">
								<option value="" disabled selected="selected">Nombre</option>
								<template v-for="type in types">
									<option v-bind:value="type.id">{{type.name}}</option>
								</template>
							</select>
					</div> 
					</br></br></br></br>
					<h4>Consultar por rango de fechas</h4>
					<div class="col-xs-12 col-sm-3">
						<label for="date1_stats">Desde:</label>
						<input type="text" placeholder="Fecha Inicial" aria-describedby="date" id="date1_stats" enable="enable" class="form-control" v-model="date1_stats">
					</div>
					
					<div class="col-xs-12 col-sm-3">
						<label for="date2_stats">Hasta:</label>
						<input type="text" placeholder="Fecha Final" aria-describedby="date" id="date2_stats" enable="enable" class="form-control" v-model="date2_stats">
					</div>
					<button style="margin-top: 25px;" class="btn btn-primary pull-left" v-on:click="createStats()">
							Consultar
					</button>
				</div> 
				
				<br/> <br/> 
				
					<div class="row">
						<div class="col-xs-12 col-sm-4">
							<label for="cant_prest">Cantidad de prestamos del activo:</label>
							<input id="cant_prest" v-model="cant_prestv" placeholder="0" aria-describedby="text" readonly class="form-control">
						</div>
							
					</div>
					<br/>
					
					<div class="row">
						<div class="col-xs-12 col-sm-4">
							<label for="cant_pend">Devoluciones retrasadas del activo:</label>
							<input id="cant_pend" v-model="cant_pendv" placeholder="0" aria-describedby="text" readonly class="form-control">
						</div>
					</div>
					
			</div>
			<!--<div class="col-xs-12 col-sm-8" >
					<div class="well container-fluid>
						<div>
							<label for="_anno">Durante el año:</label>
							<input id="_anno" v-model="yearAmountLoans" placeholder="Año" aria-describedby="text" readonly class="form-control">
						</div>
						
						<div class="col-xs-12 col-sm-4">
							<label for="_mes">Durante el mes:</label>
							<input id="_mes"v-model="monthAmountLoans" placeholder="Mes" aria-describedby="text" readonly class="form-control">
						</div>
						<div class="col-xs-12 col-sm-4">
						<label for="_dia">Durante el día:</label>
							<input id="_dia"v-model="dayAmountLoans" placeholder="Día" aria-describedby="text" readonly class="form-control">
						</div>
					</div>
				</div>
		</div>-->		
			
	</div>
	</div>
	<div style="display:none" id="allUsersManagementTemplate">
		<div class="col-xs-12 col-sm-10 col-sm-offset-1" :listing-id="users_managment"> 
			<div class="well container-fluid">
				<h3>
					Personas
				</h3>
			
					<router-link  class="btn btn-primary pull-right" :to="{ name: 'usuario', params: { id: 'new' }}">
						<i class="fa fa-user-plus"></i> Agregar persona
					</router-link>
					
					<div v-if="!(page.data && page.data.length > 0)" class="text-center bg-warning col-xs-12 text-warning" style="margin-top:10px; font-size: 25px;border: 1px solid #999;border-radius: 6px;">
						<span class="fa-stack fa-lg text-warning" style="font-size: 3.5em;" >
						  <i class="fa fa-circle-o-notch fa-spin fa-3x fa-fw fa-stack-2x text-warning"></i>
						  <i class="fa fa-users fa-stack-1x text-warning"></i>
						</span>
						<br>
						<p>Cargando ...</p>
					</div>
				<span class="text-muted" v-if="page.data && page.data.length > 0">
					Página {{$route.params.page}} de {{page.last_page}}
				</span>
				<nav aria-label="Page navigation" v-if="page.data && page.data.length > 0">
				  <ul class="pagination">
				    <li>
				      	<router-link  :to="{ name: 'personas', params: { page: 1 }}" aria-label="Previous">
				        	<span>&laquo;</span>
						</router-link>
				    </li>
				    <template v-for="index in page.last_page">
					    <li >
				 	    	<router-link  :to="{ name: 'personas', params: { page: index }}">
								{{index}}
							</router-link> 
					    </li>
				    </template>
				    <li>
				    	<router-link  :to="{ name: 'personas', params: { page: page.last_page }}"  aria-label="Next">
							<span>&raquo;</span>
						</router-link> 
				    </li>
				  </ul>
				</nav>
				<table class="table table-striped" v-if="page.data && page.data.length > 0">
					<thead>
						<tr>
							<th>
								Identificación
							</th>
							<th>
								Nombre 
							</th>
							<th>
								Apellidos
							</th>
							<th>
								Estado
							</th>
							<th>
								Rol
							</th>
							<th>
								Datos
							</th>
						</tr>
					</thead>
					<tbody>
						<template v-for="singleUser in page.data" >
							<tr  >
								<td>
									<router-link  :to="{ name: 'usuario', params: { id: singleUser.id }}">
										{{singleUser.identity_card}}
									</router-link>
								</td>
								<td>
									<router-link  :to="{ name: 'usuario', params: { id: singleUser.id }}">
										{{singleUser.name}}
									</router-link>
								</td>
								<td>
									<router-link  :to="{ name: 'usuario', params: { id: singleUser.id }}">
										{{singleUser.last_name}}
									</router-link>
								</td>
								
								<td>
									{{(singleUser.active)?"Activo":"Inactivo"}}
								</td>
								<td>
									{{singleUser.role.type}}
								</td>
								<td v-if="singleUser.next_update_time > (new Date()).sqlFormat()" class="text-success">
									<i class="fa fa-check-circle-o"></i> Actualizados
								</td>
								<td v-if="!(singleUser.next_update_time > (new Date()).sqlFormat())" class="text-danger">
									<i class="fa fa-times-circle-o"></i> Desactualizados
								</td>
							</tr>
						</template>
					<tbody>
				</table>
				<span class="text-muted" v-if="page.data && page.data.length > 0">
					Resultados desde {{page.from}} hasta {{page.to}}
				</span>
				<nav aria-label="Page navigation" v-if="page.data && page.data.length > 0">
				  <ul class="pagination">
				    <li>
				      	<router-link  :to="{ name: 'personas', params: { page: 1 }}" aria-label="Previous">
				        	<span>&laquo;</span>
						</router-link>
				    </li>
				    <template v-for="index in page.last_page">
					    <li >
				 	    	<router-link  :to="{ name: 'personas', params: { page: index }}">
								{{index}}
							</router-link> 
					    </li>
				    </template>
				    <li>
				    	<router-link  :to="{ name: 'personas', params: { page: page.last_page }}"  aria-label="Next">
							<span>&raquo;</span>
						</router-link> 
				    </li>
				  </ul>
				</nav>
			</div>
		</div>	
	</div>
	<div style="display:none" id="singleUserTemplate" :listing-id="single_user_panel">
		<div class="">
			<div class="col-xs-12 col-sm-6">
				<div class="well container-fluid">
					<h3 class="unselectable">
						<span>{{user_data.name}} {{user_data.last_name}}</span>
						<i v-if="(user_data.name == null || user_data.name == '') && (user_data.last_name == null ||user_data.last_name == '')" class="text-muted">Sin nombre</i>
						<small>
							<label class="label label-default" v-bind:class="{'label-success' : user_data.active}">
								Activo <i class="fa fa-check-square-o" v-if="user_data.active"></i>
								<i class="fa fa-square-o" v-if="!user_data.active"></i>
								<input type="checkbox" id="active"  v-model="user_data.active" style="display:none"/>
							</label>
						</small>
					</h3>
					<div class="col-xs-12">
						<button class="btn btn-warning pull-right btn-sm">
							<i class="fa fa-lock"></i> Generar contraseña
						</button>
					</div>
					<div class="col-xs-12 col-md-6" v-if="roles.length > 0">
						<div class="form-group">
							<label for="roll">Rol</label>
							<div class="input-group has-default">				
								<span class="input-group-addon" id="user">
									<i class="fa fa-cog"></i>
								</span> 
								<select class="form-control" v-model="user_data.role" id="roll">
									<template v-for="roll in roles">
										<option v-bind:value="roll">
											{{roll.type}}
										</option>
									</template>
								</select>
							</div>
						</div>
					</div>
					<br>
				<!--	{{user_data}} -->
					<div class="col-xs-12 col-md-6">
						<div class="form-group">
							<label for="identity_card">Cédula</label>
							<div class="input-group has-default">				
								<span class="input-group-addon" id="user">
									<i class="fa fa-id-card-o"></i>
								</span> 
								<input class="form-control" id="identity_card" v-model="user_data.identity_card" aria-describedby="user" placeholder="Cédula" autofocus="autofocus" type="text">
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-md-6">
						<div class="form-group">
							<label for="name">Nombre</label>
							<div class="input-group has-default">
								<span id="user" class="input-group-addon">
									<i class="fa fa-user" ></i>
								</span>
								<input autofocus="autofocus" id="name" type="text" placeholder="Nombre" v-model="user_data.name" aria-describedby="user" class="form-control">
							</div>
						</div>
					</div>	
					 <div class="col-xs-12 col-md-6">
						<div class="form-group">
							<label for="last_name">Apellidos</label>
							<div class="input-group has-default">
								<span id="user" class="input-group-addon">
									<i class="fa fa-user" ></i>
								</span>
								<input autofocus="autofocus" id="last_name" type="text" v-model="user_data.last_name" placeholder="Apellidos" aria-describedby="user" class="form-control">
							</div>
						</div>
					</div>	
					<div class="col-xs-12 col-md-6">
						<div class="form-group">
							<label for="email">Correo electrónico</label>
							<div class="input-group has-default">
								<span id="user" class="input-group-addon">
									<i class="fa fa-envelope-o"></i>
								</span>
								<input autofocus="autofocus" id="email" v-model="user_data.email" type="text" placeholder="Correo electrónico" aria-describedby="user" class="form-control">
							</div>
						</div>
					</div>
					
					<div class="col-xs-12 col-md-6">
						<div class="form-group">
							<label for="home_phone">Teléfono de habitación</label>
							<div class="input-group has-default">
								<span id="user" class="input-group-addon">
									<i class="fa fa-phone"></i>
								</span>
								<input autofocus="autofocus" id="home_phone" type="text" v-model="user_data.home_phone" placeholder="Teléfono de habitación" aria-describedby="user" class="form-control">
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-md-6">
						<div class="form-group">
							<label for="cell_phone">Teléfono celular</label>
							<div class="input-group has-default">
								<span id="user" class="input-group-addon">
									<i class="fa fa-mobile"></i>
								</span>
								<input autofocus="autofocus" id="cell_phone" v-model="user_data.cell_phone" type="text" placeholder="Teléfono celular" aria-describedby="user" class="form-control">
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-md-6">
						<div class="form-group">
							<label for="province">Provincia</label>
							<div class="input-group has-default">
								<span class="input-group-addon">
									<i class="fa fa-globe"></i>
								</span>
								<input autofocus="autofocus" id="province" type="text" v-model="user_data.province" placeholder="Provincia" aria-describedby="user" class="form-control">
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-md-6">
						<div class="form-group">
							<label for="canton">Cantón</label>
							<div class="input-group has-default">
								<span class="input-group-addon">
									<i class="fa fa-globe"></i>
								</span>
								<input autofocus="autofocus" id="canton" type="text" v-model="user_data.canton" placeholder="Cantón" aria-describedby="user" class="form-control">
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-md-6">
						<div class="form-group">
							<label for="district">Distrito</label>
							<div class="input-group has-default">
								<span class="input-group-addon">
									<i class="fa fa-globe"></i>
								</span>
								<input autofocus="autofocus" id="district" type="text" v-model="user_data.id_district" placeholder="Distrito" aria-describedby="user" class="form-control">
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-md-6">
						<div class="form-group">
							<label for="exact_address">Dirección Exacta</label>
							<div class="input-group has-default">
								<span class="input-group-addon">
									<i class="fa fa-map-marker"></i>
								</span>
								<input autofocus="autofocus" id="exact_address" type="text" v-model="user_data.direction" placeholder="Dirección Exacta" aria-describedby="user" class="form-control">
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-md-6">
						<div class="form-group" v-bind:class="{'has-success':user_data.next_update_time > date.sqlFormat(), 'has-error':user_data.next_update_time <= date.sqlFormat()}">
							<label for="next_update_time">Válido hasta:</label>
							<div class="input-group has-default">
								<span id="user" class="input-group-addon">
									<i class="fa fa-calendar"></i>
								</span>
									<input type="text" id="next_update_time" placeholder="Fecha de próxima actualizacion" aria-describedby="date" enable="enable" class="form-control" v-model="user_data.next_update_time">
							</div>
						</div>
					</div>
					
					<button class= "btn btn-primary pull-right" v-on:click= "save()"><i class="fa fa-floppy-o"></i> Guardar</button>
					<!--<div class="col-xs-12 col-md-6">
							<select name="" id="" class="form-control"  v-model="audiovisual_data.brand.name">
								<option value="" disabled selected="selected">Rol</option>
								<template v-for="role in roles">
									<option> <!--{{role.name}}-- </option>
								</template>
							</select>
						
					</div>
					<div class="col-xs-12">
					<button style="margin-top: 10px;" class="btn btn-primary pull-right">
						<i class="fa fa-floppy-o"></i> Guardar
					</button></div>-->
				</div>
			</div>
			<div class="col-xs-12 col-sm-6">
				<div class="well container-fluid"> 
					<div class="col-xs-12">
						<h3 class="text-danger">
							Multas
						</h3>
						<div id="penalty" v-if="!user_data.penalties || user_data.penalties.length <= 0" class="col-xs-12 col-sm-4  bg-danger" style="font-size: 25px;border: 1px solid #999;border-radius: 6px;" class="text-muted text-center"><i style="font-size: 3em;" i class="fa fa-ban" ></i><br>
							El usuario no posee multas
						</div>
						<div v-if="!(!user_data.penalties || user_data.penalties.length <= 0)">
							<table class="table table-striped">
								<thead>
									<tr>
										<th>
											
										</th>
										<th>
											Horas tarde
										</th>
										<th>
											Finaliza
										</th>
										<th>
											Estado
										</th>
										<th>
											Equipo
										</th>
									</tr>
								</thead>
								<tbody>
									<tr v-for="penalty in user_data.penalties" v-bind:class="{'danger text-danger':(date.sqlFormat() <= penalty.penalty_time_finish)}">
										<td>
											<div class="btn-group">
											  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
											    Acción <span class="caret"></span>
											  </button>
											  <ul class="dropdown-menu">
											    <li><a href="#">Ver detalles</a></li>
											    <li><a href="#">Eliminar</a></li>
											  </ul>
											</div>
										</td>
										<td class="text-center">
											<b>
												{{Math.trunc(Math.abs(sqlToJavaScriptDate(penalty.loan.return_time) - sqlToJavaScriptDate(penalty.loan.user_return_time)) / 36e5) }} hora{{Math.trunc(Math.abs(sqlToJavaScriptDate(penalty.loan.return_time) - sqlToJavaScriptDate(penalty.loan.user_return_time)) / 36e5)>1?"s":"" }}
											</b>
										</td>
										<td>
											{{penalty.penalty_time_finish}}
										</td>
										<td>
											{{((new Date()).sqlFormat()> penalty.penalty_time_finish)?"Finalizada":"En ejecución" }}
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div style="display:none" id="singleBookTemplate">
		<div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
		<div class="well row">
			<h3>
				Libro
			</h3>
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						<i class="fa fa-barcode"></i>
					</span>
					<input autofocus="autofocus" type="text" placeholder="Código de barras" aria-describedby="user" class="form-control">
				</div>
			</div>
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						<i ></i>
					</span>
					<input autofocus="autofocus" type="text" placeholder="Signatura" aria-describedby="user" class="form-control">
				</div>
			</div>	
			<br /> <br /> <br />
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						<i ></i>
					</span>
					<input autofocus="autofocus" type="text" placeholder="Año de publicación" aria-describedby="user" class="form-control">
				</div>
			</div>
			 <div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						<i ></i>
					</span>
					<input autofocus="autofocus" type="text" placeholder="Lugar de publicación" aria-describedby="user" class="form-control">
				</div>
			</div>	
			<br /> <br /> <br />
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						Nuevo <input type="checkbox" />
					</span>
					<select name="" id="" class="form-control">
						<option value="" disabled selected="selected">Editorial</option>
						<option v-for="state in states" value="{{state.id}}">Lista editoriales</option>
					</select>
				</div>
			</div>
			<div class="col-xs-12 col-md-6">
				<select name="" id="" class="form-control">
					<option value="" disabled selected="selected">Estado</option>
					<option v-for="state in states" value="{{state.id}}">Lista estados</option>
				</select>
			</div>
				
			<br /> <br /> <br />
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
				<span id="user" class="input-group-addon">
							Nuevo <input type="checkbox" />
				</span>
					<select name="" id="" class="form-control">
						<option value="" disabled selected="selected">Autor</option>
						<option v-for="state in states" value="{{state.id}}">Lista autores</option>
					</select>
				</div>
			</div>
			<br /> <br /> <br />
			<div class="col-xs-12">
				<textarea name="" id="" cols="10" rows="5" class="form-control" placeholder="Notas" style="resize:vertical" v-model="audiovisual_data.loanable.note"></textarea>
			</div>
			
			<br /> <br /> <br />	
			<div class="col-xs-12"><button style="margin-top: 10px;" class="btn btn-primary pull-right">
				<i class="fa fa-floppy-o"></i> Guardar
			</button></div>
		</div>
	</div>
	</div>
	<div style="display:none" id="audiovisualMaterialManagementTemplate">
		<div class="col-xs-12 col-sm-10 col-sm-offset-1" :listing-id="audiovisual_material_management"> 
			<div class="well">
				<h3>
					Materiales Audiovisuales 
					{{page.data}}
				</h3>
				<!--
					<div class="input-group pull-right">
					  <input type="text" class="form-control" placeholder="Busqueda"/>
					  <span class="input-group-addon" id="email">
						<i class="fa fa-search"></i>
					  </span>
					</div>
					<br><br>
					<button class= "btn btn-primary pull-right">Buscar</button><br>
				-->	
				 <!--<span class="text-muted" >
					Página {{$route.params.page}} de {{page.last_page}}
				</span> -->
				<table class="table table-striped" >
				<thead>
					<tr>
						<th>
							Código de barras
						</th>
						<th>
							Tipo 
						</th>
						<th>
							Formato 
						</th>
					</tr>
				</thead>
				<tbody>
						<template v-for="material in page.data" >
						{{page.data}}
								<td>
									<router-link  :to="{ name: 'material-audiovisual-panel', params: { id: audiovisual-material.id }}">
									<!--	{{material.loanable.barcode}} -->
									</router-link>
								</td>
								<td>
									<!-- <router-link  :to="{ name: 'material-audiovisual-panel', params: { id: audiovisual-material.id }}"> -->
										<!--{{material.audiovisual_material_type.name}} -->
									<!-- </router-link> -->
								</td>
								<td>
									<!-- {{material.audiovisual_format.name}} -->
								</td>
							</tr>
						</template>
					</tbody>
				</table>
				<span class="text-muted">
					Resultados desde {{page.from}} hasta {{page.to}}
				</span>
				<nav aria-label="Page navigation">
				  <ul class="pagination">
				    <li>
				      	<router-link  :to="{ name: 'material-audiovisual', params: { page: 1 }}" aria-label="Previous">
				        	<span>&laquo;</span>
						</router-link>
				    </li>
				    <template v-for="index in page.last_page">
					    <li >
					    	<router-link  :to="{ name: 'material-audiovisual', params: { page: index }}">
								{{index}}
							</router-link>
					    </li>
				    </template>
				    <li>
				    	<router-link  :to="{ name: 'material-audiovisual', params: { page: page.last_page }}"  aria-label="Next">
							<span>&raquo;</span>
						</router-link>
				    </li>
				  </ul>
				</nav>
			</div>
		</div><!--ERROR PAGE -->
	</div>
	<div style="display:none" id="threeDimensionalObjectManagementTemplate">
			<div class="col-xs-12 col-sm-10 col-sm-offset-1" :listing-id="three_dimensional_management">
				<div class="well">
					<h3>
						Objeto Tridimensional
					</h3>
				<!--
					<div class="input-group pull-right">
						<input type="text" class="form-control" placeholder="Busqueda"/>
						<span class="input-group-addon" id="email">
							<i class="fa fa-search"></i>
					  </span>
					</div>
						<br><br>
						<button class= "btn btn-primary pull-right">Buscar</button><br>
				-->		
					<span class="text-muted" >
							Página {{$route.params.id}} de {{three_dimensional_data.last_page}}
					</span>
				<table class="table table-striped">
						
						<thead>
							<tr>
								<th>
									Descripción
								</th>
								<th>
									Signatura 
								</th>
								<th>
									Lugar publicación
								</th>
								<th>
									Editorial
								</th>
							</tr>
						</thead>
					<tbody>
						<template v-for="threeDimOb_item in three_dimensional_data.data" >
							<tr>
								<td>
									<router-link  :to="{ name: 'three_dimensional_data', params: { id: three_dimensional_data.id }}">
										<!--{{threeDimOb_item.physical_description}} -->
									</router-link>
								</td>
								<td>
									<router-link  :to="{ name: 'three_dimensional_data', params: { id: three_dimensional_data.id }}">
									<!--	{{threeDimOb_item.bibliographic_material.signature}} -->
									</router-link>
								</td>
								<td>
								<!--	{{threeDimOb_item.bibliographic_material.publication_place}} -->
								</td>
								
								<td>
									<!--{{threeDimOb_item.bibliographic_material.editorial.name}} -->
								</td>
								<td>
									<!--{{threeDimOb_item}} -->
								</td>
							</tr>
						</template>
					</tbody>
				</table>
				
				<span class="text-muted">
				
					Resultados desde {{three_dimensional_data.from}} hasta {{three_dimensional_data.to}}
				</span>
				<nav aria-label="Page navigation">
				  <ul class="pagination">
				    <li>
				      	<router-link  :to="{ name: 'objeto-tridimensional', params: { id: 1 }}" aria-label="Previous">
				        	<span>&laquo;</span>
						</router-link>
				    </li>
				    <template v-for="index in three_dimensional_data.last_page">
					    <li >
					    	<router-link  :to="{ name: 'objeto-tridimensional', params: { id: index }}">
								{{index}}
							</router-link>
					    </li>
				    </template>
				    <li>
				    	<router-link  :to="{ name: 'objeto-tridimensional-panel', params: { id: three_dimensional_data.last_page }}"  aria-label="Next">
							<span>&raquo;</span>
						</router-link>
				    </li>
				  </ul>
				</nav>
			</div>
		</div><!--ERROR PAGE -->
	</div>
	<div style="display:none" id="materialCartographicPanelTemplate">
			<div class="col-xs-12 col-sm-10 col-sm-offset-1" :listing-id="cartographic_panel">
				<div class="well">
					<h3>
						Material Cartográfico
					</h3>
				<!--
					<div class="input-group pull-right">
						<input type="text" class="form-control" placeholder="Busqueda"/>
						<span class="input-group-addon" id="email">
							<i class="fa fa-search"></i>
					  </span>
					</div>
						<br><br>
						<button class= "btn btn-primary pull-right">Buscar</button><br>
				-->
					<span class="text-muted" >
							Página {{$route.params.id}} de {{cartographic_data.last_page}}
					</span>
					
					<nav aria-label="Page navigation">
				  <ul class="pagination">
				    <li>
				      	<router-link  :to="{ name: 'material-cartografico', params: { id: 1 }}" aria-label="Previous">
				        	<span>&laquo;</span>
						</router-link>
				    </li>
				    <template v-for="index in cartographic_data.last_page">
					    <li >
					    	<router-link  :to="{ name: 'material-cartografico', params: { id: index }}">
								{{index}}
							</router-link>
					    </li>
				    </template>
				    <li>
				    	<router-link  :to="{ name: 'material-cartografico', params: { id: cartographic_data.last_page }}"  aria-label="Next">
							<span>&raquo;</span>
						</router-link>
				    </li>
				  </ul>
				</nav>
				<table class="table table-striped">
						<thead>
							<tr>
								<th>
									Nombre
								</th>
								<th>
									Signatura 
								</th>
								<th>
									Lugar publicación
								</th>
								<th>
									Editorial
								</th>
								<th>
									Dimensiones
								</th>
							</tr>
						</thead>
					<tbody>
						<template v-for="cartographic_item in cartographic_data.data" >
							<tr>
								<td>
									<router-link  :to="{ name: 'cartographic_data', params: { id: cartographic_data.id }}">
										{{cartographic_item.cartographic_format.name}}
									</router-link>
								</td>
								<td>
									<router-link  :to="{ name: 'cartographic_data', params: { id: cartographic_data.id }}">
										{{cartographic_item.bibliographic_material.signature}}
									</router-link>
								</td>
								<td>
									{{cartographic_item.bibliographic_material.publication_place}}
								</td>
								
								<td>
									{{cartographic_item.bibliographic_material.editorial.name}}
								</td>
								<td>
									{{cartographic_item.dimension}}
								</td>
								<!--<td>
									{{cartographic_item}}
								</td>-->
							</tr>
						</template>
					</tbody>
				</table>
				
				<span class="text-muted">
				
					Resultados desde {{cartographic_data.from}} hasta {{cartographic_data.to}}
				</span>
				<nav aria-label="Page navigation">
				  <ul class="pagination">
				    <li>
				      	<router-link  :to="{ name: 'material-cartografico', params: { id: 1 }}" aria-label="Previous">
				        	<span>&laquo;</span>
						</router-link>
				    </li>
				    <template v-for="index in cartographic_data.last_page">
					    <li >
					    	<router-link  :to="{ name: 'material-cartografico', params: { id: index }}">
								{{index}}
							</router-link>
					    </li>
				    </template>
				    <li>
				    	<router-link  :to="{ name: 'material-cartografico', params: { id: cartographic_data.last_page }}"  aria-label="Next">
							<span>&raquo;</span>
						</router-link>
				    </li>
				  </ul>
				</nav>
			</div>
		</div><!--ERROR PAGE -->
	</div>
	<div style="display:none" id="audiovisualEquipmentPanelTemplate">
	 <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"  :listing-id="cartographic_panel">
		<div class="well row">
			<h3>
				Panel de equipo
			</h3>
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						<i class="fa fa-barcode"></i>
					</span>
					<input autofocus="autofocus" type="text" placeholder="Signatura" <!--aria-describedby="user"--> class="form-control" v-model="audiovisual_data.loanable.barcode">
				</div>
			</div>
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<select name="" id="" class="form-control" v-model="audiovisual_data.type">
						<option value="" disabled selected="selected">Nombre</option>
						<template v-for="type in types">
							<option v-bind:value="type">{{type.name}}</option>
						</template>
						
					</select>
					<span id="user" class="input-group-addon">
						Nuevo <input type="checkbox" />
					</span>
				</div>
			</div>	
			<br /> <br /> <br />
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						Nuevo <input type="checkbox" />
					</span>
					<select name="" id="" class="form-control"  v-model="audiovisual_data.brand">
						<option value="" disabled selected="selected">Marca</option>
						<option v-for="brand in brands" v-bind:value="brand">{{brand.name}}</option>
					</select>
				</div>
			</div>
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<select name="" id="" class="form-control" v-model="audiovisual_data.model">
						<option value="" disabled selected="selected">Modelo</option>
						<option v-for="model in models" v-bind:value="model">{{model.name}}</option>
					</select>
					<span id="user" class="input-group-addon">
						Nuevo <input type="checkbox" />
					</span>
				</div>
			</div>	
			<br /> <br /> <br />	
			<div class="col-xs-12 col-md-6">
				<select name="" v-model="audiovisual_data.loanable.state" class="form-control">
					<option value="" disabled selected="selected">Estado</option>
					<option v-for="state in states" v-bind:value="state">{{state.description}}</option>
				</select>
			</div>	
			<br /> <br /> <br />	
			<div class="col-xs-12">
				<textarea name="" id="" cols="30" rows="10" class="form-control" placeholder="Notas" style="resize:vertical" v-model="audiovisual_data.loanable.note"></textarea>
			</div>
			<br /> <br /> <br />	
			<div class="col-xs-12">
				
				<button style="margin-top: 10px;" class="btn btn-primary pull-right">
					<i class="fa fa-floppy-o"></i> Guardar
				</button>
				
			</div>
		</div>
	</div>
	</div>
	<div style="display:none" id="singleThreeDimensionalTemplate">
		<div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"  :listing-id="three_dimensional_panel">
		<div class="well row">
			<h3>
				Material Tridimensional
			</h3>
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						<i class="fa fa-barcode"></i>
					</span>
					<input autofocus="autofocus" type="text" placeholder="Código de barras" aria-describedby="user" class="form-control" v-model="three_dimensional_data.loanable.barcode">
				</div>
			</div>
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						<i ></i>
					</span>
					<input autofocus="autofocus" type="text" placeholder="Signatura" aria-describedby="user" class="form-control">
				</div>
			</div>	
			<br /> <br /> <br />
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						<i ></i>
					</span>
					<input autofocus="autofocus" type="text" placeholder="Año de publicación" aria-describedby="user" class="form-control">
				</div>
			</div>
			 <div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						<i ></i>
					</span>
					<input autofocus="autofocus" type="text" placeholder="Lugar de publicación" aria-describedby="user" class="form-control">
				</div>
			</div>             
			<br /> <br /> <br />
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						<i ></i>
					</span>
					<input autofocus="autofocus" type="text" placeholder="Descripción Física" aria-describedby="user" class="form-control">
				</div>
			</div> 
			<div class="col-xs-12 col-md-6">                
				<select name="" id="" class="form-control" v-model="three_dimensional_data">
					<option value="" disabled selected="selected">Estado</option>
					<option v-for="state in states" v.bind:value="state.id">{{state.name}}</option>
				</select>
			</div>				
			<br /> <br /> <br />
			<div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
				<span id="user" class="input-group-addon">
							Nuevo <input type="checkbox" />
				</span>
					<select name="" id="" class="form-control">
						<option value="" disabled selected="selected">Palabra Clave</option>
						<option v-for="state in states" value="{{state.id}}">Lista Palabra Clave</option>
					</select>
				</div>
			</div>
            <div class="col-xs-12 col-md-6">
				<div class="input-group has-default">
					<span id="user" class="input-group-addon">
						Nuevo <input type="checkbox" />
					</span>
					<select name="" id="" class="form-control">
						<option value="" disabled selected="selected">Editorial</option>
						<option v-for="state in states" value="{{state.id}}">Lista editoriales</option>
					</select>
				</div>
			</div>
			<br /> <br /> <br />
			<div class="col-xs-12">
				<textarea name="" id="" cols="10" rows="5" class="form-control" placeholder="Notas" style="resize:vertical" v-model="audiovisual_data.loanable.note"></textarea>
			</div>
			
			<br /> <br /> <br />	
			<div class="col-xs-12"><button style="margin-top: 10px;" class="btn btn-primary pull-right">
				<i class="fa fa-floppy-o"></i> Guardar
			</button></div>
		</div>
	</div>
	</div>
	<div style="display:none" id="searchTemplate">
		<div class="col-xs-12 col-sm-10 col-sm-offset-1">
			<div class="col-xs-12">
				<div class="well container-fluid">
					<div class="col-xs-12">
						<h1>
							Gestión
						</h1>
					</div>
					<div class="col-xs-12">
						<div class="input-group">
							<input type="text" class="form-control" placeholder="Buscar">
							<span class="input-group-btn">
								<button class="btn btn-default" type="button">
									<i class="fa fa-times"></i>
								</button>
								<button class="btn btn-primary" type="button" v-on:click="search()">
									<i class="fa fa-search"></i>
									Buscar
								</button>
							</span>
						</div>
						<p>
							<b>Incluir tipos:</b>
							<br/>
							<label class="unselectable checkbox-inline" v-for="type in types" v-bind:class="{'text-muted': !type.include}">
								<input type="checkbox" v-model="type.include">
								{{type.name}}
							</label>
						</p>
					</div>
				</div>
				<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
					<div class="panel panel-primary">
						<div class="panel-heading collapsed unselectable" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
							<h4 class="panel-title">
								<b>
									<i class="fa fa-plus-square"></i> Opciones avanzadas
								</b>
							</h4>
						</div>
						<div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
							<div class="panel-body">
								<div class="row">
									<div class="btn-group-vertical col-xs-12 col-sm-5 col-md-4">
										<button type="button" class="list-group-item active">
											<b>Incluir estados</b>
										</button>
										
										<label type="button" class="btn text-left list-group-item" style="text-align: left;" v-for="state in states" v-bind:class="{'text-muted': !state.include}">
											<span class="badge" v-bind:style="{background: state.color}">
												{{state.quantity}}
											</span>
											<input type="checkbox" v-model="state.include">
											{{state.name}}
										</label>
									</div>
									<div class="btn-group-vertical col-xs-12 col-sm-7 col-md-8">
										<label type="button" class="list-group-item active">
											<input type="checkbox">
											<b class="unselectable">Busqueda exclusiva de material bibliográfico</b>
										</label>
										<div class="input-group">
											<label class="input-group-addon">
												Título
											</label>
											<input type="text" class="form-control" placeholder="Escriba un título">
										</div>
										<div class="input-group">
											<label class="input-group-addon">
												Autor
											</label>
											<input type="text" class="form-control" placeholder="Escriba un autor (Nombre o apellido)">
										</div>
										<div class="input-group">
											<label class="input-group-addon">
												Código de barras
											</label>
											<input type="text" class="form-control" placeholder="Escriba un código de barras">
										</div>
										<div class="input-group">
											<label class="input-group-addon">
												Signatura
											</label>
											<input type="text" class="form-control" placeholder="Escriba un signatura">
										</div>
										<div class="input-group">
											<label class="input-group-addon">
												Palabras clave
											</label>
											<input type="text" class="form-control" placeholder="Escriba un palabras clave (separadas por comas)">
										</div>
										
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="container-fluid" style="margin-bottom: 15px;">
				<div class="row">
					<!--<div class="col-xs-12 col-sm-6 col-md-4">
						<!--<div class="input-group">
							<span class="input-group-addon">
								Resultados por página
							</span>
							<!--<input type="number" min="1" max="100" class="form-control" v-model.number="resultsPerPage">--
							<select class="form-control" v-model.number="resultsPerPage">
								<option>5</option>
								<option>10</option>
								<option>20</option>
								<option>50</option>
							</select>
						</div>--
					</div>-->
					<div class="col-xs-12 col-sm-9">
						<div class="btn-toolbar" role="toolbar">
							<div class="btn-group" role="group">
								<button class="btn btn-default">
									<i class="fa fa-angle-double-left"></i>
								</button>
								<button class="btn btn-default">
									<i class="fa fa-angle-left"></i>
								</button>
							</div>
							<div class="btn-group" role="group">
								<router-link :to="{ name: 'gestion', params: { page: (paginate.current_page >=1 )?((paginate.current_page-4)<1)?n:n+(paginate.current_page-4):1 }}" class="btn" v-for="n in (paginate.last_page >= 1)?((paginate.last_page < 7)?paginate.last_page:7):1" v-bind:class="{'btn-primary':(((paginate.current_page-4)<1)?n:n+(paginate.current_page-4))==paginate.current_page, 'btn-default':(((paginate.current_page-4)<1)?n:n+(paginate.current_page-4)!=paginate.current_page)}">
									{{ (paginate.current_page >=1 )?((paginate.current_page-4)<1)?n:n+(paginate.current_page-4):1 }}
								</router-link>
							</div>
							<div class="btn-group" role="group">
								<button class="btn btn-default">
									<i class="fa fa-angle-right"></i>
								</button>
								<button class="btn btn-default">
									<i class="fa fa-angle-double-right"></i>
								</button>
							</div>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-3">
						<div class="input-group">
							<span class="input-group-addon">
								Vista
							</span>
							<select class="form-control" v-model="view">
								<option value="card">En tarjetas</option>
								<option value="list">En lista</option>
							</select>
						</div>
					</div>
				</div>
			</div>
			<div class="container-fluid col-xs-12" v-if="view == 'list'">
				<div class="panel panel-default shadow">
					<div class="panel-body">
						<table class="table table-hover">
					<thead>
						<tr>
							<th style="min-width: 102px;">
								Código
								<button class="btn btn-sm" v-on:click="reorder('barcode')" v-bind:class="{'btn-primary': order.index=='barcode', 'btn-default': order.index != 'barcode'}">
									<i class="fa fa-sort" v-if="order.index != 'barcode'"></i>
									<i class="fa fa-sort-alpha-asc" v-if="order.index == 'barcode' && order.highestToLowest == true"></i>
									<i class="fa fa-sort-alpha-desc" v-if="order.index == 'barcode' && order.highestToLowest == false"></i>
								</button>
							</th>
							<th>
								Descripción
								<button class="btn btn-sm" v-on:click="reorder('description')" v-bind:class="{'btn-primary': order.index=='description', 'btn-default': order.index != 'description'}">
									<i class="fa fa-sort" v-if="order.index != 'description'"></i>
									<i class="fa fa-sort-alpha-asc" v-if="order.index == 'description' && order.highestToLowest == true"></i>
									<i class="fa fa-sort-alpha-desc" v-if="order.index == 'description' && order.highestToLowest == false"></i>
								</button>
							</th>
							<th>
								Tipo
								<button class="btn btn-sm" v-on:click="reorder('type')" v-bind:class="{'btn-primary': order.index=='type', 'btn-default': order.index != 'type'}">
									<i class="fa fa-sort" v-if="order.index != 'type'"></i>
									<i class="fa fa-sort-alpha-asc" v-if="order.index == 'type' && order.highestToLowest == true"></i>
									<i class="fa fa-sort-alpha-desc" v-if="order.index == 'type' && order.highestToLowest == false"></i>
								</button>
							</th>
							<th>
								Estado
								<button class="btn btn-sm" v-on:click="reorder('state')" v-bind:class="{'btn-primary': order.index=='state', 'btn-default': order.index != 'state'}">
									<i class="fa fa-sort" v-if="order.index != 'state'"></i>
									<i class="fa fa-sort-alpha-asc" v-if="order.index == 'state' && order.highestToLowest == true"></i>
									<i class="fa fa-sort-alpha-desc" v-if="order.index == 'state' && order.highestToLowest == false"></i>
								</button>
							</th>
							<th>
								
							</th>
						</tr>
					</thead>
					<tbody>
						<template v-for="loanable in paginate.data" >
							<tr>
								<td>
									{{loanable.barcode}}
								</td>
								<td style="max-width: 400px;" v-if="loanable.specification_type == 'App\\AudiovisualEquipment'">
									<b>{{loanable.specific.type.name}}</b> - {{loanable.specific.brand.name}} - {{loanable.specific.model.name}}
								</td>
								<td style="max-width: 400px;" v-if="loanable.specification_type == 'App\\CopyPeriodicPublication'">
									<b>{{loanable.specific.periodic_publication.title}}</b> no.{{loanable.specific.number}} vol.{{loanable.specific.volume}}
								</td>
								<td style="max-width: 400px;" v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\CartographicMaterial'">
									<b>{{loanable.specific.title}}</b> - <i>{{loanable.specific.editorial.name}}</i> - {{loanable.specific.material.dimension}}
								</td>
								<td style="max-width: 400px;" v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\ThreeDimensionalObject'">
									<b>{{loanable.specific.title}}</b> - {{loanable.specific.material.physical_description}} - <i>{{loanable.specific.editorial.name}}</i>
								</td>
								<td style="max-width: 400px;" v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\Book'">
									<b>{{loanable.specific.title}}</b> - <i>{{loanable.specific.editorial.name}}</i>
								</td>
								<td style="max-width: 400px;" v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\AudiovisualMaterial'">
									<b>{{loanable.specific.title}}</b> - <i>{{loanable.specific.editorial.name}}</i>
								</td>
								
								<td v-if="loanable.specification_type == 'App\\AudiovisualEquipment'">
									<i class="fa fa-laptop"></i> Equipo audiovisual
								</td>
								<td v-if="loanable.specification_type == 'App\\CopyPeriodicPublication'">
									<i class="fa fa-newspaper-o"></i> Publicación periódica
								</td>
								<td v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\CartographicMaterial'">
									<i class="fa fa-map-o"></i> Material cartográfico
								</td>
								<td v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\ThreeDimensionalObject'">
									<i class="fa fa-certificate"></i> Objeto tridimensional
								</td>
								<td v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\Book'">
									<i class="fa fa-book"></i> Libro
								</td>
								<td v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\AudiovisualMaterial'">
									<i class="fa fa-file-video-o"></i> Material audiovisual
								</td>
								
								<td class="text-success" v-if="loanable.state_id == 1">
									<i class="fa fa-check-circle-o"></i> Disponible
								</td>
								<td class="text-primary" v-if="loanable.state_id == 2">
									<i class="fa fa-circle-o"></i> Prestado
								</td>
								<td class="text-muted" v-if="loanable.state_id == 3">
									<i class="fa fa-minus-circle"></i> Fuera de servicio
								</td>
								<td class="text-muted" v-if="loanable.state_id == 4">
									<i class="fa fa-cog"></i> En reparación
								</td>
								<td class="text-danger" v-if="loanable.state_id == 5">
									<i class="fa fa-exclamation-circle"></i>
									No devuelto
								</td>
								<td>
									<router-link :to="{name:'activo', params:{id:loanable.id}}" class="btn btn-primary btn-xs">
										<i class="fa fa-eye"></i> Ver
									</router-link>
									<button class="btn btn-danger btn-xs" v-if="loanable.state_id != 2 && user.role_id == 1">
										<i class="fa fa-trash-o"></i> Borrar
									</button>
								</td>
							</tr>
						</template>
					</tbody>
				</table>
					</div>
				</div>
			</div>
			<div v-if="view == 'card'">
				<div class="col-xs-12 form-inline" style="margin-bottom: 15px;">
					<div class="input-group">
						<span class="input-group-addon">
							Ordenar por
						</span>
						<select class="form-control" v-model="order.index">
							<option value="barcode">Código de barras</option>
							<option value="description">Descripción</option>
							<option value="type">Tipo</option>
							<option value="state">Estado</option>
						</select>
					</div>
					<div class="input-group">
						<span class="input-group-addon">
							de forma
						</span>
						<select class="form-control" v-model="order.highestToLowest">
							<option value="1">Ascendente (A-Z)</option>
							<option value="0">Decendente (Z-A)</option>
						</select>
					</div>
				</div>
				<div class="container-fluid col-xs-12" v-for="loanable in paginate.data">
					<div class="well container-fluid shadow">
						<div class="row">
							<div class="col-xs-12 col-sm-3">
								<a href="#">
									<h4 v-if="loanable.specification_type == 'App\\AudiovisualEquipment'">
										<b>{{loanable.specific.type.name}}</b> - {{loanable.specific.brand.name}}
									</h4>
									<h4 v-if="loanable.specification_type == 'App\\CopyPeriodicPublication'">
										<b>{{loanable.specific.periodic_publication.title}}</b> no.{{loanable.specific.number}} vol.{{loanable.specific.volume}}
									</h4>
									<h4 v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\CartographicMaterial'">
										<b>{{loanable.specific.title}}</b> - <i>{{loanable.specific.editorial.name}}</i> - {{loanable.specific.material.dimension}}
									</h4>
									<h4 v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\ThreeDimensionalObject'">
										<b>{{loanable.specific.title}}</b> - <i>{{loanable.specific.editorial.name}}</i>
									</h4>
									<h4 v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\Book'">
										<b>{{loanable.specific.title}}</b> - <i>{{loanable.specific.editorial.name}}</i>
									</h4>
									<h4 v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\AudiovisualMaterial'">
										<b>{{loanable.specific.title}}</b> - <i>{{loanable.specific.editorial.name}}</i>
									</h4>
								</a>
								<span class="text-success">Código de barras: <b>{{loanable.barcode}}</b></span>
								</br>
								<span class="text-muted" v-if="loanable.specification_type == 'App\\AudiovisualEquipment'">
									<i class="fa fa-laptop"></i> Equipo audiovisual
								</span>
								<span class="text-muted" v-if="loanable.specification_type == 'App\\CopyPeriodicPublication'">
									<i class="fa fa-newspaper-o"></i> Publicación periódica
								</span>
								<span class="text-muted" v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\CartographicMaterial'">
									<i class="fa fa-map-o"></i> Material cartográfico
								</span>
								<span class="text-muted" v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\ThreeDimensionalObject'">
									<i class="fa fa-certificate"></i> Objeto tridimensional
								</span>
								<span class="text-muted" v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\Book'">
									<i class="fa fa-book"></i> Libro
								</span>
								<span class="text-muted" v-if="loanable.specification_type == 'App\\BibliographicMaterial' && loanable.specific.material_type == 'App\\AudiovisualMaterial'">
									<i class="fa fa-file-video-o"></i> Material audiovisual
								</span>
							</div>
							<div class="col-xs-12 col-sm-2">
								<h4 v-if="loanable.state_id == 1">
									<span class="label label-success">
										<i class="fa fa-check-circle-o"></i>
										Disponible
									</span>
								</h4>
								<h4 v-if="loanable.state_id == 2">
									<span class="label label-primary">
										<i class="fa fa-circle-o"></i>
										Prestado
									</span>
								</h4>
								<h4 v-if="loanable.state_id == 3">
									<span class="label label-default">
										<i class="fa fa-minus-circle"></i>
										Fuera de servicio
									</span>
								</h4>
								<h4 v-if="loanable.state_id == 4">
									<span class="label label-default">
										<i class="fa fa-cog"></i>
										En reparación
									</span>
								</h4>
								<h4 v-if="loanable.state_id == 0">
									<span class="label label-danger">
										<i class="fa fa-exclamation-circle"></i>
										No devuelto
									</span>
								</h4>
								<router-link :to="{name:'activo', params:{id:loanable.id}}" class="btn btn-primary btn-xs">
									<i class="fa fa-eye"></i> Ver
								</router-link>
								<button class="btn btn-danger btn-xs" v-if="loanable.state_id != 2 && user.role_id == 1">
									<i class="fa fa-trash-o"></i> Borrar
								</button>
							</div>
							<div class="col-xs-12 col-sm-4">
								<h5><i class="fa fa-info-circle"></i> Detalles:</h5>
								<span v-if="loanable.specification_type == 'App\\AudiovisualEquipment'">
									<b>Marca:</b> {{loanable.specific.brand.name}}
									<br>
									<b>Modelo:</b> {{loanable.specific.model.name}}
								</span>
								<span v-if="loanable.specification_type == 'App\\CopyPeriodicPublication'">
									<b>ISSN:</b> {{loanable.specific.periodic_publication.ISSN}}
									<br>
									<b>Signatura:</b> <span class="text-success">{{loanable.specific.periodic_publication.signature}}</span>
									<br>
									<b>Editorial:</b> {{loanable.specific.periodic_publication.editorial.name}}
									<br>
									<b>Artículos:</b>
									<span v-for="(article, key) in loanable.specific.article">
										{{ article.title }} <span v-if="key+1 != loanable.specific.article.length"> - </span>
									</span>
								</span>
								<span v-if="loanable.specification_type == 'App\\BibliographicMaterial'">
									<span v-if="loanable.specific.material_type == 'App\\CartographicMaterial'">
										<b>Dimensiones:</b> {{loanable.specific.material.dimension}}
										<br>
									</span>
									<span v-if="loanable.specific.material_type == 'App\\ThreeDimensionalObject'">
										<b>Descripción fisica:</b> {{loanable.specific.material.physical_description}}
										<br>
									</span>
									<span v-if="loanable.specific.material_type == 'App\\AudiovisualMaterial'">
										<b>Tipo:</b> <span>{{loanable.specific.material.audiovisual_type.name}}</span>
										<br>
										<b>Formato:</b> <span>{{loanable.specific.material.audiovisual_format.name}}</span>
										<br>
									</span>
									<b>Signatura:</b> <span class="text-success">{{loanable.specific.signature}}</span>
									<br>
									<b>Autor<span v-if="loanable.specific.authors.length > 1">es</span>:</b> 
									<span v-for="(author, key) in loanable.specific.authors">
										{{author.name}} {{author.last_Name}}
										<span v-if="key+1 != loanable.specific.authors.length"> - </span>
									</span>
									<br>
									<b>Editorial:</b> {{loanable.specific.editorial.name}}
									<br>
									<b>Lugar de publicación:</b> {{loanable.specific.publication_place}}
								</span>
							</div>
							<div class="col-xs-12 col-sm-3">
								<h5><i class="fa fa-sticky-note-o" ></i> Nota:</h5>
								{{loanable.note}}
								<span v-if="loanable.note == null || loanable.note.trim() == ''" class="text-muted">
									<span class="fa-stack">
										  	<i class="fa fa-sticky-note-o fa-stack-1x" ></i>
										  	<i class="fa fa-ban fa-stack-2x"></i>
									</span>
									Sin nota
								</span>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="container-fluid" style="margin-bottom: 15px;">
				<div class="row">
					<div class="col-xs-12 col-sm-9">
						<div class="btn-toolbar" role="toolbar">
							<div class="btn-group" role="group">
								<button class="btn btn-default">
									<i class="fa fa-angle-double-left"></i>
								</button>
								<button class="btn btn-default">
									<i class="fa fa-angle-left"></i>
								</button>
							</div>
							<div class="btn-group" role="group">
								<router-link :to="{ name: 'gestion', params: { page: (paginate.current_page >=1 )?((paginate.current_page-4)<1)?n:n+(paginate.current_page-4):1 }}" class="btn" v-for="n in (paginate.last_page >= 1)?((paginate.last_page < 7)?paginate.last_page:7):1" v-bind:class="{'btn-primary':(((paginate.current_page-4)<1)?n:n+(paginate.current_page-4))==paginate.current_page, 'btn-default':(((paginate.current_page-4)<1)?n:n+(paginate.current_page-4)!=paginate.current_page)}">
									{{ (paginate.current_page >=1 )?((paginate.current_page-4)<1)?n:n+(paginate.current_page-4):1 }}
								</router-link>
							</div>
							<div class="btn-group" role="group">
								<button class="btn btn-default">
									<i class="fa fa-angle-right"></i>
								</button>
								<button class="btn btn-default">
									<i class="fa fa-angle-double-right"></i>
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div style="display:none" id="loanableTemplate">
		<div class="col-xs-12 col-sm-6 col-md-4" :listing-id="init">
			<div class="well container-fluid">
				<h4>Activo</h4>
				<form class="bs-example bs-example-form">
					<div class="input-group" style="margin-bottom: 5px;">
						<span class="input-group-addon" id="barcode">Código de barras</span>
						<input v-model="loanable.barcode" type="text" class="form-control" placeholder="Código de barras" aria-describedby="barcode">
					</div>
					<button style="margin-bottom: 5px;" class="btn btn-default" type="button" v-if="loanable.specification_type != null && loanable.specification_type != ''">
					  Tipo:
					  	<span v-if="loanable.specification_type == 'App\\BibliographicMaterial'">
							<span v-if="loanable.specific.material_type == 'App\\Book'">
								<i class="fa fa-book"></i>
								Libro
							</span>
							<span v-if="loanable.specific.material_type == 'App\\CartographicMaterial'">
								<i class="fa fa-map-o"></i>
								Material cartográfico
							</span>
							<span v-if="loanable.specific.material_type == 'App\\ThreeDimensionalObject'">
								<i class="fa fa-certificate"></i>
								Objeto tridimensional
							</span>
							<span v-if="loanable.specific.material_type == 'App\\AudiovisualMaterial'">
								<i class="fa fa-file-video-o"></i>
								Material audiovisual
							</span>
						</span>
						<span v-if="loanable.specification_type == 'App\\AudiovisualEquipment'">
							<i class="fa fa-laptop"></i>
							Equipo audiovisual
						</span>
						<span v-if="loanable.specification_type == 'App\\CopyPeriodicPublication'">
							<i class="fa fa-newspaper-o"></i>
							Publicación periódica
						</span>
					</button>
					<div class="input-group" style="margin-bottom: 5px;" v-else>
						<span class="input-group-addon" id="specification_type">Tipo</span>
						<select class="form-control" v-model="type">
							 <option value="AudiovisualEquipment">
							 	Equipo audiovisual
							 </option>
							 <option value="CopyPeriodicPublication">
							 	Publicación periodica
							 </option>
							 <option value="Book">
							 	Libro
							 </option>
							 <option value="CartographicMaterial">
							 	Material cartográfico
							 </option>
							 <option value="AudiovisualMaterial">
							 	Material audiovisual
							 </option>
							 <option value="ThreeDimensionalObject">
							 	Objeto tridimensional
							 </option>
						</select>
					</div>
					<!--<div class="dropdown" style="margin-bottom: 5px;" v-if="loanable.state_id != 2">
						<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
						    Estado:
						    <span v-if="loanable.state_id == 1" class="text-success">
						    	<i class="fa fa-check-circle-o"></i>
						    	Disponible
						    </span>
						    <span v-if="loanable.state_id == 3" class="text-muted">
						    	<i class="fa fa-minus-circle"></i>
						    	Fuera de servicio
						    </span>
						    <span v-if="loanable.state_id == 4" class="text-muted">
						    	<i class="fa fa-cog"></i>
						    	En reparación
						    </span>
						    <span class="caret"></span>
						  </button>
						<ul class="dropdown-menu">
							<li>
								<a v-on:click="loanable.state_id = 1" class="pointer">
									<i class="fa fa-check-circle-o"></i>
									Disponible
								</a>
							</li>
							<li>
								<a v-on:click="loanable.state_id = 3" class="pointer">
									<i class="fa fa-minus-circle"></i>
									Fuera de servicio
								</a>
							</li>
							<li>
								<a v-on:click="loanable.state_id = 4" class="pointer">
									<i class="fa fa-cog"></i>
									En reparación
								</a>
							</li>
						</ul>
					</div>-->
					<button class="btn btn-default" type="button" v-if="loanable.state_id == 2">
						Estdo:
						<span class="text-info">
					    	<i class="fa fa-circle-o"></i>
					    	Prestado
					    </span>
					</button>
					<br>
					<small v-if="loanable.state_id == 2" style="margin-bottom: 5px;">
						(Para cambiar el estado debe terminar el prestamo primero)
					</small>
					<div class="input-group" style="margin-bottom: 5px;" v-else>
						<span class="input-group-addon" id="specification_type">Estado</span>
						<select class="form-control" v-model="loanable.state_id">
							 <option value="1">
							 	Disponible
							 </option>
							 <option value="3">
							 	Fuera de servicio
							 </option>
							 <option value="4">
							 	En reparación
							 </option>
						</select>
					</div>
				</form>
				<!--{{loanable}}-->
			</div>
			<div class="well container-fluid" v-if="loanable.specification_type == 'App\\AudiovisualEquipment'">
				<form class="bs-example bs-example-form">
					<div class="input-group" style="margin-bottom: 5px;">
						<span class="input-group-addon">Marca</span>
						<input v-model="loanable.specific.brand.name" type="text" class="form-control">
					</div>
					<div class="input-group" style="margin-bottom: 5px;">
						<span class="input-group-addon">Modelo</span>
						<input v-model="loanable.specific.model.name" type="text" class="form-control">
					</div>
					<div class="input-group" style="margin-bottom: 5px;">
						<span class="input-group-addon">Tipo</span>
						<input v-model="loanable.specific.type.name" type="text" class="form-control">
					</div>
				</form>
			</div>
		</div>
	</div>
	<div style="display:none" id="configTemplate">
		<div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
			<div class="well row">
				<h3>
					Configuración general
				</h3>
				<br /> <br />
				<div class="col-xs-12 col-md-6">
				<label for="opening_hour_week">Hora de apertura entre semana:</label>
					<div class="input-group has-default">
					<span id="user" class="input-group-addon" >
							<i class="fa fa-clock-o"></i>
					</span>
					<select name="" id="opening_hour_week" class="form-control">
						<option value="" disabled selected="selected">Hora de apertura</option>
						<!-- <option v-for="" value="">Lista de horas</option> -->
						<!--<option value = "01" selected> Hora de apertura</option>-->
								<option value="06">06:00 am</option>
								<option value="07"selected>07:00 am</option>
								<option value="08">08:00 am</option>
								<option value="09">09:00 am</option>
								<option value="10">10:00 am</option>
								<option value="11">11:00 am</option>
								<option value="12">12:00 pm</option>
								<option value="13">01:00 pm</option>
								<option value="14">02:00 pm</option>
					</select>
					</div>
				</div>
				
				<div class="col-xs-12 col-md-6">
				<label for="closing_hour_week">Hora de cierre entre semana:</label>
					<div class="input-group has-default">
						<span id="user" class="input-group-addon" >
							<i class="fa fa-clock-o" ></i>
						</span>
						<select name="" id="closing_hour_week" class="form-control">
							<option value="" disabled selected="selected">Hora de cierre</option>
								
								<option value="12">12:00 pm</option>
								<option value="13">01:00 pm</option>
								<option value="14">02:00 pm</option>
								<option value="07">03:00 pm</option>
								<option value="08">04:00 pm</option>
								<option value="09">05:00 pm</option>
								<option value="10">06:00 pm</option>
								<option value="11"selected>07:00 pm</option>
					    </select>
						</div>
				</div>	
				<br /> <br /> <br /> <br />
				<div class="col-xs-12 col-md-6">
				<label for="opening_hour_saturday">Hora de apertura sábados:</label>
					<div class="input-group has-default">
						<span id="user" class="input-group-addon">
							<i class="fa fa-clock-o"></i>
						</span>
						<select name="" id="opening_hour_saturday" class="form-control">
							<option value="" disabled selected="selected">Hora de apertura</option>
							<option value="06">06:00 am</option>
								<option value="07"selected>07:00 am</option>
								<option value="08">08:00 am</option>
								<option value="09">09:00 am</option>
								<option value="10">10:00 am</option>
								<option value="11">11:00 am</option>
								<option value="12">12:00 pm</option>
								<option value="13">01:00 pm</option>
								<option value="14">02:00 pm</option>
						</select>
						</div>
				</div>
				<div class="col-xs-12 col-md-6">
				<label for="closing_hour_saturday">Hora de cierre sábados:</label>
					<div class="input-group has-default">
						<span id="user" class="input-group-addon">
							<i class="fa fa-clock-o"></i>
						</span>
						<select name="" id="closing_hour_saturday" class="form-control">
							<option value="" disabled selected="selected">Hora de cierre</option>
							<option value="06">06:00 am</option>
								<option value="12">12:00 pm</option>
								<option value="13">01:00 pm</option>
								<option value="14">02:00 pm</option>
								<option value="07">03:00 am</option>
								<option value="08"selected>04:00 pm</option>
								<option value="09">05:00 pm</option>
								<option value="10">06:00 pm</option>
								<option value="11">07:00 pm</option>
						</select>
					</div>
				</div>	
				<br /> <br /> <br /> <br />
				<div class="col-xs-12 col-md-6">
				<label for="library_name">Nombre de la biblioteca:</label>
					<div class="input-group has-default">
						<span id="user" class="input-group-addon">
							<i class="fa fa-etsy" ></i>
						</span>
						<input autofocus="autofocus" id="library_name"type="text" placeholder="Nombre de la biblioteca" aria-describedby="user" class="form-control">
					</div>
				</div>
				<!--
				<div class="col-xs-12 col-md-6">
				<label for="theme">Tema:</label>
					<div class="input-group has-default">
						<span id="user" class="input-group-addon">
							<i ></i>
						</span>
						<select name="" id="theme" class="form-control">
							<option value="" disabled selected="selected">Tema actual</option>
							<option v-for="" value="">Lista de temas</option>
						</select>
					</div>
				</div>
				-->
				<br /> <br /> <br />	
				<div class="col-xs-12"><button style="margin-top: 10px;" class="btn btn-primary pull-right">
					<i class="fa fa-floppy-o"></i> Guardar
				</button></div>
			</div>
		</div>
	</div>
	<div style="display:none" id="dayPendingsLoansTemplate">
		<div class="col-xs-12 col-sm-10 col-sm-offset-1" :listing-id="cartographic_panel">
				<div class="well">
					<h3>
						Prestamos pendientes del día
					</h3>
					<span class="text-muted" >
							Página {{$route.params.id}} de {{loan_data.last_page}}
					</span>
					
					<nav aria-label="Page navigation">
				  <ul class="pagination">
				    <li>
				      	<router-link  :to="{ name: 'prestamos-dia', params: { id: 1 }}" aria-label="Previous">
				        	<span>&laquo;</span>
						</router-link>
				    </li>
				    <template v-for="index in loan_data.last_page">
					    <li >
					    	<router-link  :to="{ name: 'prestamos-dia', params: { id: index }}">
								{{index}}
							</router-link>
					    </li>
				    </template>
				    <li>
				    	<router-link  :to="{ name: 'prestamos-dia', params: { id: loan_data.last_page }}"  aria-label="Next">
							<span>&raquo;</span>
						</router-link>
				    </li>
				  </ul>
				</nav>
				<table class="table table-striped">
						<thead>
							<tr>
								<th>
									Código de Barras
								</th>
								<th>
									Fecha de préstamo 
								</th>
								<th>
									Usuario
								</th>
							</tr>
						</thead>
					<tbody>
						<template v-for="loan_item in loan_data.data" >
							<tr>
								<td>
									{{loan_item}}
								</td>
								<td>
									{{loan_item}}
								
								</td>
								<td>
									{{loan_item}}
								</td>
							</tr>
						</template>
					</tbody>
				</table>
				
				<span class="text-muted">
				
					Resultados desde {{loan_data.from}} hasta {{loan_data.to}}
				</span>
				<nav aria-label="Page navigation">
				  <ul class="pagination">
				    <li>
				      	<router-link  :to="{ name: 'prestamos-dia', params: { id: 1 }}" aria-label="Previous">
				        	<span>&laquo;</span>
						</router-link>
				    </li>
				    <template v-for="index in loan_data.last_page">
					    <li >
					    	<router-link  :to="{ name: 'prestamos-dia', params: { id: index }}">
								{{index}}
							</router-link>
					    </li>
				    </template>
				    <li>
				    	<router-link  :to="{ name: 'prestamos-dia', params: { id: loan_data.last_page }}"  aria-label="Next">
							<span>&raquo;</span>
						</router-link>
				    </li>
				  </ul>
				</nav>
			</div>
		</div><!--ERROR PAGE -->
	</div>
	<script src="lib/jquery.min.js"></script>
	<script src="lib/vue.min.js"></script>
	<script src="lib/vue-router.js"></script>
	<script src="lib/vue-strap.min.js"></script>
	<script src="lib/vue-strap-lang.js"></script>
	<script src="lib/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="lib/moment.js"></script>
	<script type="text/javascript" src="lib/moment-with-locales.js"></script>
	<script src="lib/bootstrap-datepicker-1.6.4-dist/js/bootstrap-datepicker.min.js"></script>
	<script src="lib/bootstrap-datepicker-1.6.4-dist/locales/bootstrap-datepicker.es.min.js"></script>
	<script src="lib/toastr-master/build/toastr.min.js"></script>

	<script>
	  Vue.directive("date", {
    "twoWay": true,
    "bind": function () {
        var self = this;

        self.mask = "99/99/9999";
        $(self.el).mask(self.mask, { placeholder:"MM/DD/YYYY" });
        $(self.el).change(function() {
            var value = $(this).val();
            self.set(value);
        });
    },
    "unbind": function () {
        var self = this;
        $(self.el).unmask(self.mask);
    }
});
	</script>
	<script src="js/routes.js"></script>
</body>
</html>